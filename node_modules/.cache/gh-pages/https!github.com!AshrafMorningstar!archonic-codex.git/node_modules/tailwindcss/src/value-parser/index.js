/*
 * Â© 2022-2026 Ashraf Morningstar
 * GitHub: https://github.com/AshrafMorningstar
 *
 * This project is a personal recreation of existing projects, developed by Ashraf Morningstar 
 * for learning and skill development. Original project concepts remains the intellectual 
 * property of their respective creators.
 */
var parse = require('./parse')
var walk = require('./walk')
var stringify = require('./stringify')

function ValueParser(value) {
  if (this instanceof ValueParser) {
    this.nodes = parse(value)
    return this
  }
  return new ValueParser(value)
}

ValueParser.prototype.toString = function () {
  return Array.isArray(this.nodes) ? stringify(this.nodes) : ''
}

ValueParser.prototype.walk = function (cb, bubble) {
  walk(this.nodes, cb, bubble)
  return this
}

ValueParser.unit = require('./unit')

ValueParser.walk = walk

ValueParser.stringify = stringify

module.exports = ValueParser
